{% extends 'base.html.twig' %}

{% block title %}Hello AccueilController!{% endblock %}

{% import 'article/_macro_article.html.twih.twig' as article_macro %}

{% block body %}
    <section class="articles row row-cols-1 row-cols-md-3 g-4">
        {% for article in pagination %}
            <article class="col">
                <div class="card h-100">
                    {{ article_macro.showAttachment(article.attachments, article.nom, 'card-img-top class', true) }}
                    <div class="card-body">
                        <h5 class="card-title">
                            {{ article.nom }} <br/>
                            <small>{{ article.category.titre }}</small>
                        </h5>
                        <p class="card-text">{{ article.description }}</p>
                        <h3 class="text-danger">{{ article.prix }} â‚¬</h3>

                    </div>
                    <div class="card-footer">
                        <a href="{{ path('article_show', {'id' : article.id }) }}" class="btn btn-primary">Voir plus</a>
                        
                        <a style="float: right;" href="{{ path('cart_add', {'id' : article.id }) }}" class="btn btn-success">
                            <i class="fas fa-cart-plus"></i> Ajouter
                        </a>
                    </div>
                </div>
            </article>
        {% endfor %}
    </section>

    
    <div class="navigation mt-4 d-flex justify-content-center">
        {{ knp_pagination_render(pagination) }}
    </div>
{% endblock %}
